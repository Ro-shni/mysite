<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">

    <!-- FontAwesome CDN -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"
        integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">

    <!-- Chartjs CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #333333; /* Dark Grey */
            font-family: system-ui;
        }
    
        .sidenav {
            height: 100%;
            width: 300px;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            background-color: #4b4b4b; /* Dark Grey */
            overflow-y: auto;
            transition: 0.5s;
        }
    
        .sidenav a {
            padding: 15px 8px 15px 32px;
            text-decoration: none;
            font-size: 20px;
            color: #f1f1f1; /* Light Grey */
            display: block;
            transition: 0.3s;
        }
    
        .sidenav a:hover {
            color: #ffd700; /* Golden Yellow */
            background-color: #333333; /* Dark Grey */
        }
    
        #main {
            transition: margin-left .5s;
            padding: 10px;
            margin-left: 300px; /* Adjust margin to match sidebar width */
        }
    
        .logo {
            margin: 0;
            margin-left: 20px;
            font-weight: bold;
            color: #ffd700; /* Golden Yellow */
            margin-bottom: 10px;
        }
    
        .logo span {
            color: #f1f1f1; /* Light Grey */
        }
    
        .head {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }
    
        .col-div-6 {
            flex: 1;
        }
    
        .col-md-8 {
            flex: 2;
        }
    
        .border {
            border: 1px solid #ddd;
            border-radius: 5px;
        }
    
        .p-3 {
            padding: 1rem;
        }
    
        .bg-white {
            background-color: #ffffff;
        }
    
        .alert {
            margin-top: 20px;
        }
    
        .alert-success {
            background-color: #28a745;
            color: white;
        }
    
        .alert-info {
            background-color: #17a2b8;
            color: white;
        }
    
        .alert-warning {
            background-color: #ffc107;
            color: white;
        }
    
        .alert-danger {
            background-color: #dc3545;
            color: white;
        }
    
        .table {
            margin-top: 20px;
            width: 100%;
        }
    
        .table th,
        .table td {
            text-align: center;
        }
    
        .table thead {
            background-color: #333333; /* Dark Grey */
            color: #ffd700; /* Golden Yellow */
        }
    
        .table tbody {
            background-color: #ffffff;
        }
    
        .btn-sm {
            padding: 5px 10px;
        }
    
        .btn-info {
            background-color: #17a2b8;
            border-color: #17a2b8;
        }
    
        .btn-danger {
            background-color: #dc3545;
            border-color: #dc3545;
        }
    
        .btn-success {
            background-color: #28a745;
            border-color: #28a745;
        }
    
        .btn-block {
            display: block;
            width: 100%;
        }
    
        .form-group {
            margin-bottom: 20px;
        }
    
        .nav-link {
            color: #ffd700 !important; /* Golden Yellow */
        }
    
        .nav-link:hover {
            background-color: #333333; /* Dark Grey */
        }
    
        .nav {
            display: block;
        }
    
        .nav2 {
            display: none;
        }
    
        /* Responsive Design - Small Devices */
        @media (max-width: 768px) {
            .sidenav {
                width: 100%;
                position: relative;
            }
    
            #main {
                margin-left: 0;
            }
    
            .sidenav a {
                font-size: 18px;
                padding: 12px 10px;
            }
    
            .head {
                flex-direction: column;
                align-items: flex-start;
            }
    
            .col-div-6, .col-md-8 {
                flex: 1;
                width: 100%;
            }
    
            .table {
                font-size: 12px;
            }
    
            .logo {
                font-size: 18px;
            }
    
            .alert {
                font-size: 14px;
            }
    
            .table th,
            .table td {
                padding: 8px;
            }
        }
    
        @media (max-width: 576px) {
            .sidenav a {
                font-size: 16px;
                padding: 10px 8px;
            }
    
            .logo {
                font-size: 16px;
            }
    
            .table th,
            .table td {
                padding: 6px;
            }
    
            .alert {
                font-size: 13px;
            }
        }
    </style>
    
</head>
<body>
    <!-- Sidebar -->
    <div id="mySidenav" class="sidenav">
        <p class="logo">
            <span class="initial">{{ user.username|slice:":1" }}</span>{{ user.username|slice:"1:" }}
        </p>         
        <a href="home" class="icon-a"><i class="fa fa-Dashboard"></i>â˜° Dashboard</a>
        {% if user.is_authenticated and user.is_staff and user.is_superuser%}
        <a href="view_students"class="icon-a"><i class="fa fa-users icons"></i>   Students</a>
        <a href="#"class="icon-a"><i class="fa fa-tasks icons"></i>   Inventory</a>
        {%endif%}
        <a href="profile"class="icon-a"><i class="fa fa-user icons"></i>   View Profile</a>
        <!--<a href="contact"class="icon-a"><i class="fa fa-user icons"></i>   Edit Profile</a>-->
        <a href="certi"class="icon-a" href="{% url 'student_index'%}"><i class="fa fa-list-alt icons"></i>   Updates</a>
        <a href="projects"class="icon-a" href="{% url 'project_list'%}"><i class="fa fa-list icons"></i>   Projects</a>
        <a href="{% url 'logout' %}"class="icon-a"><i class="fa fa-users icons"></i>Logout</a>
        <!--<a class="nav-link me-2 btn btn-outline-danger" href="{% url 'logout' %}"><p style="color:white">Logout</p></a>-->
  </div>
    <!-- end of sidebar -->

    <!-- Table -->
    <div id="main">
        <div class="head">
            <div class="col-div-6">
                <!-- Content here -->
                {% for message in messages %}
                {% if message %}
                <div class="alert alert-{{ message.tags }}">
                    {{message}}
                </div>
                {% endif %}
                {% endfor %}

                {% if user.is_authenticated and user.is_staff and user.is_superuser %}
                <div class="border bg-white p-3">
                    <h4>Upload Event</h4>
                    <hr>
                    <form method="POST">
                        {% csrf_token %}
                        {{ form }}
                        <input class="btn btn-success btn-block" type="submit" value="Add Event">
                    </form>
                </div>
                {% endif %}
            </div>
            <div class="col-md-8">
                <table class="table bg-white">
                    <thead class="bg-dark text-yellow">
                        <tr class="text-white">
                            {% if user.is_authenticated and user.is_staff and user.is_superuser %}
                            <th scope="col">Edit</th>
                            {% endif %}
                            <th scope="col">CheckIn</th>
                            <th scope="col">Type</th>
                            <th scope="col">Event Name</th>
                            <th scope="col">Register</th>
                            <th scope="col">Starts From</th>
                            <th scope="col">Ends By</th>
                            <th scope="col">Count</th>
                            {% if user.is_authenticated and user.is_staff and user.is_superuser %}
                            <th scope="col">Details</th>
                            {% endif %}
                        </tr>
                    </thead>
                    <tbody>
                        {% if items %}
                        <p>Number of items: {{ items|length }}</p>
                        {% for item in items %}
                            <tr>
                                <!--<th scope="row"><input type="checkbox" name="certifications" value="{{ item.id }}"></th>-->
                                {% if user.is_authenticated and user.is_staff and user.is_superuser %}
                                <td><a href="certi/update/{{ item.pk }}" class="btn btn-sm btn-warning">Edit</a></td>
                                {% endif %}
                                <th scope="row"><a class="btn btn-info btn-sm" href="{% url 'register_for_event' item.id %}">Checkin</a></th>
                                <td><h1 style="color:black;">{{ item.type }}</h1></td>
                                <td>{{ item.event_name }}</td>
                                <td><a href="{{ item.event_link }}" target="_blank">Register Here</a></td>
                                <td>{{ item.event_start_date }}</td>
                                <td>{{ item.event_end_date }}</td>
                                <td>{{ item.registration_count }}</td>
                                {% if user.is_authenticated and user.is_staff and user.is_superuser %}
                                <td><a class="btn btn-success btn-sm" href="{% url 'event_details' item.id %}">Details</a></td>
                                {% endif %}
                            </tr>
                        {% endfor %}
                        {% endif %}
                    </tbody>
                </table>
                
            </div>
            
        </div>
    </div>

</body>
